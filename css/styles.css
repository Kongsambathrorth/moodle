/* * Custom CSS for Moodle Course Creator Workshop
 * This file contains structural CSS that cannot be easily expressed with Tailwind utilities,
 * primarily for animations, transitions, and fixed/responsive layouts.
 */

/* ======================================= */
/* 1. Base Styles & Custom Fonts */
/* ======================================= */

body {
    /* Set scroll-behavior to smooth for better navigation experience */
    scroll-behavior: smooth;
}

/* Ensures sections snap slightly below the top bar/controls when navigating */
.scroll-mt-custom {
    scroll-margin-top: 80px; 
}

/* Utility class for primary content sections */
.module-section {
    /* Base styling for sections */
    margin-bottom: 3rem;
    background-color: #ffffff;
    padding: 1.5rem;
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}


/* ======================================= */
/* 2. Responsive Layout & Sidebar */
/* ======================================= */

/* Desktop Layout (min-width: 768px) */
@media (min-width: 768px) {
    .sidebar {
        /* Fixed position, full height, width, and transitions controlled by JS */
        width: 250px;
        transition: transform 0.3s ease, margin-left 0.3s ease;
        transform: translateX(0); 
    }
    .main-content-wrapper {
        /* Initial offset to prevent overlap with sidebar when open */
        margin-left: 250px;
        transition: margin-left 0.3s ease;
    }
    /* Hidden state for sidebar on desktop (toggled by JS) */
    .sidebar.hidden-sidebar {
        transform: translateX(-250px);
    }
    /* Content pushed back to full width when sidebar is hidden (toggled by JS) */
    .main-content-wrapper.full-width {
        margin-left: 0;
    }
    /* Fixed controls position adjustment when sidebar is hidden (toggled by JS) */
    #fixed-controls.full-width {
        left: 1.5rem; /* Moves controls to the left edge */
    }
}

/* Mobile Layout (max-width: 767px) */
@media (max-width: 767px) {
    .sidebar {
        /* Full screen overlay when active */
        position: fixed; 
        width: 100%;
        height: 100vh;
        top: 0;
        left: 0;
        z-index: 50;
        /* Start hidden off-screen */
        transform: translateX(-100%); 
        transition: transform 0.3s ease;
    }
    /* Sidebar becomes visible on mobile (toggled by JS) */
    .sidebar.active-mobile {
        transform: translateX(0);
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    /* Main content does not need margin offset on mobile */
    .main-content-wrapper {
        margin-left: 0;
        padding-top: 16px;
        min-height: 100vh;
    }
    /* Ensure body contents stack */
    body {
        display: flex; /* Overridden by utility class, but good practice */
        flex-direction: column;
    }
}


/* ======================================= */
/* 3. Component Styles (Flashcards, Accordion, Process) */
/* ======================================= */

/* --- Flashcard Styles (Click to Flip) --- */
.flashcard-grid {
    perspective: 1000px;
}
.flashcard {
    height: 150px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.flashcard.flipped {
    transform: rotateY(180deg);
}
.flashcard-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    padding: 16px;
    text-align: center;
    background-color: white; /* Ensure faces are white */
}
.flashcard-front {
    /* Styles for the front of the card */
    background-color: #e0f2f1; /* Light cyan/indigo for visual interest */
    color: #1f2937;
    font-weight: bold;
}
.flashcard-back {
    /* Styles for the back of the card */
    transform: rotateY(180deg);
    font-size: 0.875rem;
    line-height: 1.2;
    text-align: center;
    align-items: center;
    background-color: #f0f9ff;
    color: #1f2937;
}

/* --- Accordion Styles (Module 6) --- */
.accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
    padding: 0; /* Starts collapsed */
}
.accordion-content.active {
    max-height: 2000px; /* Sufficient height for smooth transition */
    padding-top: 1rem;
    padding-bottom: 1rem;
}
.accordion-icon {
    transition: transform 0.4s;
}
.accordion-header.active .accordion-icon {
    transform: rotate(45deg); 
}

/* --- Process Block Styles (Module 2) --- */
.process-step {
    display: none;
    animation: fadeIn 0.4s ease-out;
}
.process-step.active {
    display: block;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- Reading Mode Overrides --- */

.reading-mode {
    background-color: #fcf6e4; /* Light cream/yellow background */
    color: #1a1a1a; /* Very dark text */
}
.reading-mode h1, .reading-mode h2, .reading-mode h3, .reading-mode h4 {
    color: #000000 !important;
}
.reading-mode p, .reading-mode li, .reading-mode a, .reading-mode th, .reading-mode td {
    font-size: 1.15rem !important; 
    line-height: 1.8 !important; 
    font-family: Georgia, serif !important; /* Use a default serif font */
}
/* Force background colors to adapt in reading mode */
.reading-mode .bg-white, 
.reading-mode .sidebar {
    background-color: #fcf6e4 !important;
}
.reading-mode .bg-gray-100 {
    background-color: #f8f0d8 !important; /* Slightly darker cream for contrast */
}
.reading-mode .bg-indigo-100, .reading-mode .bg-cyan-100, .reading-mode .bg-green-100, .reading-mode .bg-red-100 {
    background-color: #f8f0d8 !important;
}
.reading-mode .addie-point, .reading-mode .lesson-point {
    background-color: #f8f0d8 !important;
}
.reading-mode .nav-link {
    background-color: #f8f0d8 !important;
}
.reading-mode a {
    color: #0066cc !important; 
    text-decoration: underline;
}